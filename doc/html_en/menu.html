<!DOCTYPE html>
<html lang="ja-JP">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>OpenNovel</title>
  <link rel="stylesheet" href="../css/style.css">
</head>
<body>

<h1>How to make a menu screen</h1>
<p>
	This page shows how to make a menu screen with OpenNovel.
</p>

<h2>Introduction</h2>
<p>
	Let's dive into the sample game.
</p>

<h3>Calling site of the title screen</h3>
<p>
	In the <code>story/story.txt</code> file, find a line that is described as <code>@menu title.txt</code>.
	That is a menu calling site.
	The title screen is realized by a menu script.
</p>
<p>
	<code>title.txt</code> means the <code>script/menu/title.txt</code> file.
</p>

<h3>Contents of title.txt</h3>
<p>
	Open the <code>script/menu/title.txt</code> file.
	At the top of the file, you will see:
</p>
<pre><code># File Setting
global {
    # Use the following images.
    base:   title/idle.png;
    idle:   title/idle.png;
    hover:  title/hover.png;
    active: title/hover.png;

    # Fading-in time (second)
    fadein: 0.2;

    # Fading-out time (second)
    fadeout: 0.2;
}</code></pre>

<table>
	<thead>
		<tr>
			<th>Specifier</th>
			<th>Meaning</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>base</td>
			<td>
				Back most layer.
				If none is specified, stage layers (e.g. background and characters) will be shown.
				If a file is specified, an image will be shown.
			</td>
		</tr>
		<tr>
			<td>idle</td>
			<td>
				An image to show when a button is not pointed my a mouse.
			</td>
		</tr>
		<tr>
			<td>hover</td>
			<td>
				An image to show when a button is pointed by a mouse.
			</td>
		</tr>
		<tr>
			<td>active</td>
			<td>
				Not used in a simple title screen.
				Specify the same file as idle or hover.
			</td>
		</tr>
		<tr>
			<td>fadein</td>
			<td>Fading-in time (second)</td>
		</tr>
		<tr>
			<td>fadeout</td>
			<td>Fading-out time (second)</td>
		</tr>
	</tbody>
</table>

<h3>About Images</h3>
<ul>
	<li>We use screen-sized images instead of per-button images.</li>
	<li>To create those images, please use a painting software that has layer function.</li>
</ul>

<h3>Structure of title.txt</h3>
<p>
	<code>title.txt</code> has 3 button blocks.
</p>
<pre><code>START {
    ...
}

LOAD {
    ....
}

CONFIG {
    ...
}

QUIT {
    ...
}</code></pre>

<h3>Contents of START button</h3>
<pre><code># START button
START {
    # Type: jump to a label
    type: goto;

    # Jump destination label
    label: START;

    # Position and size
    x: 2;
    y: 495;
    width: 314;
    height: 192;

    # Sound effect when pointed 
    pointse: btn-change.ogg;

    # Sound effect when clicked
    clickse: click.ogg;
}</code></pre>

<h3>type: goto;</h3>
<p>
	<code>type: goto;</code> means a goto jump will occur when the button is clicked.
</p>
<p>
	<code>label: START;</code> means the jump destination is <code>:START</code>.
</p>

<h3>Position and Size</h3>
<p>
	Please check the position and the size on <code>Photoshop</code>, <code>CLIP STUDIO PAINT</code>, or equivalent tools.
</p>

<h2>Color Adjustments</h2>
<p>
	If a fringe is shown on a save/load/history slot, please add the following settings.
</p>
<pre><code># Clear color
clear-r: 255;
clear-g: 255;
clear-b: 255;</code></pre>
<p>
	Sample:
</p>
<pre><code># Save data slot #1
SAVESLOT1 {
   # Type: Save
   type: save;

   # Save data index 0
   index: 0;

   # Clear color
   clear-r: 255;
   clear-g: 255;
   clear-b: 255;

   # Position and size
   x: 167;
   y: 153;
   width: 950;
   height: 162;

   # Margin between image and text
   margin: 20;

   # Sound effect when pointed
   pointse: btn-change.ogg;

   # Sound effect when clicked
   clickse: click.ogg;

}</code></pre>

</body>
</html>
